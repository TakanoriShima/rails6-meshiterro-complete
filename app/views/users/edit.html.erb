<h2>プロフィール編集</h2>

<!-- ここからコードを書きましょう -->
<% if @user.errors.any? %>
  <%= @user.errors.count %>件のエラーが発生しました
  <ul>
  <% @user.errors.full_messages.each do |message| %>
    <li><%= message %></li>
  <% end %>
  </ul>
<% end %>
<!-- ここまでのあいだにコードを書きましょう -->

<%= form_with model:@user, local:true do |f| %>
  <label for="inputName">Name</label>
  <%= f.text_field :name, autofocus: true, id:"inputName", placeholder:"名前"%>
  
  <!-- ここからコードを書きましょう -->
  <% if @user.profile_image.attached? && @user.profile_image.attachment.blob.present? && @user.profile_image.attachment.blob.persisted? %>
    <%= image_tag @user.profile_image, size: "100x100" %>
  <% else %>
    <%= image_tag 'no_image.jpg', size: "100x100" %>
  <% end %>
  <label for="inputImage">ProfileImage</label>
  <%= f.file_field :profile_image, accept: "image/*", placeholder: "プロフィール画像" %>
  <!-- ここまでのあいだにコードを書きましょう -->
  
  <%= f.submit "変更を保存" %>
<% end %>